{% extends "base.html" %}
{% load i18n %}

{% block title %} {% trans release.description %} {% endblock %}

{% block content %}
<div class="mainpage">


<h1>{% blocktrans with release.description as name %}{{ name }} Release{% endblocktrans %}</h1>

{% ifequal release.status "external" %}
  <p><i>{% trans "The modules of this release are not part of the GNOME Git repository. Please check each module's web page to see where to send translations." %}</i></p>
{% endifequal %}

<table class="stats">
  <thead>
    <tr>
      <th>{% trans "Language" %}</th>
      <th>{% trans "User Interface" %}</th>
      <th>{% trans "Graph" %}</th>
      <th>{% trans "Documentation" %}</th>
      <th>{% trans "Graph" %}</th>
  </tr>
  </thead>

{% for lstats in release.get_global_stats %}
<tr>
  <td class="leftcell">
    <a href="{% url team_slug lstats.lang_locale %}">{% trans lstats.lang_name %}</a>
  </td>
  
  <td><a href="{% url language_release lstats.lang_locale release.name "ui" %}">
      {{ lstats.ui_percent }}% ({{ lstats.ui_trans }}/{{ lstats.ui_fuzzy }}/{{ lstats.ui_untrans }})</a>
  </td>
  <td style="width: 108px; text-align: center;"><div class="graph">
      <div class="translated" style="width: {{ lstats.ui_percent }}px;"></div>
      <div class="fuzzy" style="{{ LANGUAGE_BIDI|yesno:"right,left" }}:{{ lstats.ui_percent }}px; width:{{ lstats.ui_percentfuzzy }}px;"></div>
      {% with lstats.ui_percent|add:lstats.ui_percentfuzzy as upos %}
      <div class="untranslated" style="{{ LANGUAGE_BIDI|yesno:"right,left" }}:{{ upos }}px; width: {{ lstats.ui_percentuntrans }}px;"></div>
      {% endwith %}
     </div>
  </td>

  {% ifnotequal lstats.doc_trans|add:lstats.doc_fuzzy "0" %}
  <td><a href="{% url language_release lstats.lang_locale release.name "doc" %}">
      {{ lstats.doc_percent }}% ({{ lstats.doc_trans }}/{{ lstats.doc_fuzzy }}/{{ lstats.doc_untrans }})</a>
  </td>
  {% else %}
  <td>-</td>
  {% endifnotequal %}
  
  <td style="width: 108px; text-align: center;">
    <div class="graph">
      <div class="translated" style="width: {{ lstats.doc_percent }}px;"></div>
      <div class="fuzzy" style="{{ LANGUAGE_BIDI|yesno:"right,left" }}:{{ lstats.doc_percent }}px; width:{{ lstats.doc_percentfuzzy }}px;"></div>
      {% with lstats.doc_percent|add:lstats.doc_percentfuzzy as upos %}
      <div class="untranslated" style="{{ LANGUAGE_BIDI|yesno:"right,left" }}:{{ upos }}px; width: {{ lstats.doc_percentuntrans }}px;"></div>
      {% endwith %}
     </div>
   </td>
  
</tr>
{% endfor %}
<tr><td colspan="5"><hr></td></tr>
<tr><td class="leftcell"><i><small>{% trans "Original strings" %}</small></i></td>
    <td><i><small><a href="{% url language_release "C" release.name "ui" %}">{% trans "User Interface" %}</a></small></i></td><td></td>
    <td><i><small><a href="{% url language_release "C" release.name "doc" %}">{% trans "Documentation" %}</a></small></i></td><td></td>
</tr>
</table>

</div>
{% endblock %}
